Author: brock@bandersgeo.ca
--------------------------------------------------------------------------------

This branch is a fork core swagger-ui (3.x), with several customizations applied.

Create a fresh build as follows:

#refresh the core swagger-ui code
- git fetch upstream
- git checkout master
- git merge upstream/master					(merge upstream/master into the current branch)

#apply the customizations
- git merge remove-header
- git merge request-url
- git merge gwa-integration

#build as usual
- npm run build

#integrate with the CKAN API Console
- copy the dist folder into API Console public folder here: C:\git_repos\banders\ckanext-openapi\ckanext\openapi\public\swagger-ui
- rebuild and deploy the CKAN API Console


--------------------------------------------------------------------------------

The code in this branch addresses the following issue found in swagger-ui core:

- HTML markup included in the response.{status_code}.description of an API 
  spec operation is not rendered as HTML.

The community is not interested in changing this behaviour because.  Details 
are provided in this Issue: https://github.com/swagger-api/swagger-ui/issues/2630

It is curious that the community has only restricted HTML markup in in the "response"
content.  As yet, HTML markup from elsewhere in an API spec is still correctly rendered 
by swagger-ui (for example, HTML markup in parameter descriptions is permitted).  I
assume the community will eventually restrict all HTML markup in the API spec files 
though.  The community now prefers to support markdown syntax.

Despite swagger-ui moving away from allowing HTML markup, "we" want it because:
- markdown syntax has no ability to specify that links open in new tabs.  opening links
  in new tabs is essential for "us"
Additionally, "we" are not concerned about the XSS vulnerability with allowing HTML 
markup. (I'm unsure why "we" are not concerned.  Clarify this.)

It is a simple modification to make swagger-ui support HTML markup in
response.{status_code}.description.  To do this we just modify one of the
template files:

	/templates/status_codes.handlebars

	change line 2 from:
	  <td class="markdown">{{{escape message}}}</td>
	to:
	  <td class="markdown">{{{sanitize message}}}</td>

Note: 'sanitize' is a helper defined in src/main/javascript/helpers/handlebars.js.
It is the same helper that ise used to render HTML markup for parameter descriptions.

The swagger-ui community is unlikely to incorporate this change into their repo,
so it is kept in a separate branch for now.